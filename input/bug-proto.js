//000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000
//
//000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000
//000000000000000000000000000000000000000000000000000000000000000000
//0000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000
//0000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000
//
//00000000000000000000000000000000000000000000000000000000000000000000
//000000000000000000000000000000000000000000000000000000000000000000
//0000000000000000000000000000000000000000000000000000000000000000000000
//000000000000000000000000000000000000000000000000000000000000000000000
//0000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000
//0000000000000000000000000000000000000000000000000000000000000000000000
//0000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000
//0000000000000000000000000000000000000000000000000000000000000000000000
//000000000000000000000000000000000000000000000000000000000000000000000

var realmA0= Realm.current();
var realmB = Realm.create();
assertEquals(0, realmA);
assertEquals(0, realmB);

//000000000000000000000000000000000000000000000000000
assertSame(this, Realm.global(realmA));
assertSame(Realm.eval(realmB, "0000"), Realm.global(realmB));
assertFalse(this === Realm.global(realmB));

//0000000000000000000000000000000000000000000000000
var x0= 0;
Realm.shared = this;
assertThrows("00000000000000000000000");
assertSame(undefined, Realm.eval(realmB, "000000"));
assertSame(undefined, Realm.eval(realmB, "00000000000000"));

Realm.eval(realmB, "000000000000000000000");
assertThrows("0");
assertSame(undefined, this.y);

//000000000000000000000000000000000000000000000000000000
var p0= {a: 0};
var o = {__proto__: p, b: 0};
Realm.shared = o;
assertSame(0, Realm.eval(realmB, "00000000000000"));
assertSame(0, Realm.eval(realmB, "00000000000000"));

//0000000000000000000000000000000000000000000
assertSame(undefined, Realm.eval(realmB, "0000000000000000000000"));

Realm.eval(realmB, "0000000000000000000000000000000");
assertSame(0, o.a);
assertSame(undefined, o.c);
